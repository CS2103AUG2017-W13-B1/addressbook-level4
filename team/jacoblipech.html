<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.3">
<title>Jacob Li PengCheng - Project Portfolio</title>
<link rel="stylesheet" href="../stylesheets/gh-pages.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.4.0/css/font-awesome.min.css">
<link rel="stylesheet" href="../stylesheets/coderay-asciidoctor.css">
</head>
<body class="article">
<div id="header">
<h1>Jacob Li PengCheng - Project Portfolio</h1>
</div>
<div id="content">
<div class="sect1">
<h2 id="project-unicity"><a class="link" href="#project-unicity">Project:  UniCity</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>UniCity is a desktop address book application used to help university students manage their ever-growing network.
The user interacts with it using a CLI, and it has a GUI created with JavaFX.
It is written in Java, and has about 16 kLoC (16 000 Lines of Code).</p>
</div>
<div class="paragraph">
<p><strong>Code contributed</strong>: [<a href="https://github.com/CS2103AUG2017-W13-B1/main/blob/master/collated/main/jacoblipech.md" class="bare">https://github.com/CS2103AUG2017-W13-B1/main/blob/master/collated/main/jacoblipech.md</a> [Functional code]]
 [<a href="https://github.com/CS2103AUG2017-W13-B1/main/blob/master/collated/test/jacoblipech.md" class="bare">https://github.com/CS2103AUG2017-W13-B1/main/blob/master/collated/test/jacoblipech.md</a> [Test code]]</p>
</div>
<div class="sect2">
<h3 id="enhancement-added-code-sort-code-command"><a class="link" href="#enhancement-added-code-sort-code-command">Enhancement Added: <code>sort</code> command</a></h3>
<div class="sect3">
<h4 id="external-behavior"><a class="link" href="#external-behavior">External behavior</a></h4>
<hr>
<div class="paragraph">
<p><mark>Start of Extract [from: User Guide]</mark></p>
</div>
</div>
<div class="sect3">
<h4 id="sorting-a-contact-code-sort-code"><a class="link" href="#sorting-a-contact-code-sort-code">Sorting a contact : <code>sort</code></a></h4>
<div class="paragraph">
<p>Sorts the list of contacts in UniCity by name.<br>
Format:<br>
<code>sort</code><br>
<code>st</code></p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p>Sorts the list of contacts according to alphabetical order.</p>
</li>
<li>
<p>The names sorted are case-insensitive.</p>
</li>
<li>
<p>If there is no contact in the list, nothing will be sorted.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sort</code><br>
Sort the list of contacts in UniCity by ascending order.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><mark>End of Extract</mark></p>
</div>
<hr>
</div>
<div class="sect3">
<h4 id="justification"><a class="link" href="#justification">Justification</a></h4>
<div class="paragraph">
<p>The purpose of sorting the contacts is so that users could view their contacts in alphabetical order.
This allows the user to find the necessary contact easier by simply glancing through UniCity in order.<br>
Given a large number of contacts by university students, the user can always view their contacts in sorted order to scroll through their contacts list,</p>
</div>
</div>
<div class="sect3">
<h4 id="implementation"><a class="link" href="#implementation">Implementation</a></h4>
<hr>
<div class="paragraph">
<p><mark>Start of Extract [from: Developer Guide]</mark></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="sorting-mechanism-since-v1-2"><a class="link" href="#sorting-mechanism-since-v1-2">Sorting mechanism (Since v1.2)</a></h3>
<div class="paragraph">
<p>The sorting mechanism is achieved by the <code>SortCommand</code>. In order to sort the list of contacts, the default constructor of <code>SortCommand</code> creates an empty editable array list of contacts as shown below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">private</span> <span class="predefined-type">ArrayList</span>&lt;ReadOnlyPerson&gt; contactList;
<span class="directive">public</span> SortCommand() {
    contactList = <span class="keyword">new</span> <span class="predefined-type">ArrayList</span>&lt;&gt;();
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The new list will take in a list of contacts from address book, sort the contacts and overwrite the existing list of contacts in address book sorted by alphabetical order.
The <code>SortCommand</code> inherits from <code>Command</code> instead of <code>UndoableCommands</code> so there is no mechanism for sorting to be undone.</p>
</div>
<div class="paragraph">
<p>The <code>SortCommand</code> is implemented in the following way:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">class</span> <span class="class">SortCommand</span> <span class="directive">extends</span> Command {
    <span class="annotation">@Override</span>
    <span class="directive">public</span> CommandResult execute() {
        <span class="comment">// ... sort logic ....</span>
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>When the command word <code>sort</code> or <code>st</code> is entered in UniCity, <code>AddressBookParser</code> will call <code>SortCommandParser</code>.</p>
</div>
<div class="paragraph">
<p>Upon calling the function, an editable contactList containing ReadOnlyPerson will be empty at the beginning.</p>
</div>
<div class="paragraph">
<p>When the user executes <code>SortCommand</code>, <code>sort</code> or <code>st</code>, to sort the list of contacts in address book. The current empty ArrayList of contactList will be sent to the model &#8230;&#8203;&#8230;&#8203;..</p>
</div>
<div class="paragraph">
<p>The following sequence diagram shows how the sort operation works:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/SortCommandSequenceDiagram.png" alt="SortCommandSequenceDiagram" width="800">
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="predefined-type">Boolean</span> sortPersonByName(<span class="predefined-type">ArrayList</span>&lt;ReadOnlyPerson&gt; contactList) {

    <span class="comment">//check the condition of the list of contacts in addressbook currently</span>
    <span class="comment">//different Boolean value will be returned depending on the order of the contacts</span>
    <span class="keyword">if</span> (filteredPersons.size() == <span class="integer">0</span>) {
        <span class="keyword">return</span> <span class="predefined-constant">null</span>;
    }
    contactList.addAll(filteredPersons);
    <span class="predefined-type">Collections</span>.sort(contactList, <span class="predefined-type">Comparator</span>.comparing(p -&gt; p.toString().toLowerCase()));

    <span class="keyword">if</span> (contactList.equals(filteredPersons)) {
        <span class="keyword">return</span> <span class="predefined-constant">false</span>;
    }
    <span class="keyword">try</span> {
        addressBook.setPersons(contactList);
        indicateAddressBookChanged();
    }
    <span class="comment">//...exceptions caught...</span>
    <span class="keyword">return</span> <span class="predefined-constant">true</span>;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Upon successful sorting, the <code>SortCommand</code> will correctly sort the contacts in alphabetical order and display the contacts under the <code>PersonListPanel</code>.</p>
</div>
<div class="paragraph">
<p>If there is an empty list, the address book will show a message saying <code>No contact to be sorted.</code><br>
If the list is in correct order, the address book will show a message saying <code>Already sorted.</code></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The sorting process is case insensitive.
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="design-considerations"><a class="link" href="#design-considerations">Design considerations</a></h4>
<div class="paragraph">
<p><strong>Aspect:</strong> Implementation of <code>SortCommand</code><br>
<strong>Alternative 1 (current choice):</strong> The <code>SortCommand</code> will inherit directly from <code>Command</code> without the undo/redo mechanism.<br>
<strong>Pros:</strong> After the user has finished sorting his list of contacts, it will remain sorted without reverting back to the original list. <br>
<strong>Cons:</strong> The user can no longer obtain the list of contacts with the original order.<br>
<strong>Alternative 2:</strong> The <code>SortCommand</code> will implement undo/redo mechanism.<br>
<strong>Pros:</strong> All contacts will be able to return to the original order when undo is applied.<br>
<strong>Cons:</strong> It may be troublesome for the user as he may want to undo a delete/add function but the list of contacts becomes unsorted and he must sort again.</p>
</div>
<div class="paragraph">
<p><strong>Aspect:</strong> How sorting is executed<br>
<strong>Alternative 1 (current choice):</strong> Sorting is accomplished using the in-built function in <code>Collections</code> to sort the arrays according to alphabetical order.<br>
<strong>Pros:</strong> This method is straightforward and easy to implement.<br>
<strong>Cons:</strong> The algorithm is in-built so it is harder to debug if something goes wrong.<br>
<strong>Alternative 2:</strong> Writing my own sorting algorithm.<br>
<strong>Pros:</strong> This method can cater to case sensitivity and other exceptions of the list when sorting is involved.<br>
<strong>Cons:</strong> The algorithm may be more prone to error and may not be straightforward enough.</p>
</div>
<div class="paragraph">
<p><strong>Aspect:</strong> Data structure to support the sort command<br>
<strong>Alternative 1 (current choice):</strong> Create an empty array list to obtain the data from the contact list and sort the contacts. It will overwrite the existing array list of unsorted contacts when sorted.<br>
<strong>Pros:</strong> This method is easier to understand and the original list of contacts is not changed to prevent any unexpected mistakes from occurring.<br>
<strong>Cons:</strong> This method may have performance issues due to additional memory usage and longer time taken to overwrite the given list of contacts.<br>
<strong>Alternative 2:</strong> Edit the current list of contacts directly by adding a function to the <code>AddressBook</code> class.<br>
<strong>Pros:</strong> This method is less time and storage consuming as sorting is achieved in a single array.<br>
<strong>Cons:</strong> There is no way to obtain the original list of contacts for other functions. If a mistake is made, the original list of contacts will be compromised. There is a need to update all classes that inherits from <code>AddressBook</code> class which may be confusing.</p>
</div>
<div class="paragraph">
<p><mark>End of Extract</mark></p>
</div>
<hr>
</div>
</div>
<div class="sect2">
<h3 id="enhancement-added-code-birthday-code-command"><a class="link" href="#enhancement-added-code-birthday-code-command">Enhancement Added: <code>birthday</code> command</a></h3>
<div class="sect3">
<h4 id="external-behavior-2"><a class="link" href="#external-behavior-2">External behavior</a></h4>
<hr>
<div class="paragraph">
<p><mark>Start of Extract [from: User Guide]</mark></p>
</div>
</div>
<div class="sect3">
<h4 id="adding-a-birthday-to-selected-contacts-code-birthday-code"><a class="link" href="#adding-a-birthday-to-selected-contacts-code-birthday-code">Adding a birthday to selected contacts : <code>birthday</code></a></h4>
<div class="paragraph">
<p>Adds the given birthday to the specified contacts .<br>
Format:<br>
<code>birthday INDEX [b/BIRTHDAY]</code><br>
<code>bd INDEX [b/BIRTHDAY]</code></p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p>Adds the birthday to the contact specified by the <code>INDEX</code>.</p>
</li>
<li>
<p>The index refers to the index number shown in the most recent listing.</p>
</li>
<li>
<p>The index <strong>must be a positive integer</strong> 1, 2, 3, &#8230;&#8203;</p>
</li>
<li>
<p>The birthday <strong>must be in positive intgers</strong> 1, 2, 3, &#8230;&#8203;</p>
</li>
<li>
<p>The birthday <strong>must be 6 or 8 integers long</strong> in the format DD/MM/YY or DD/MM/YYYY  &#8230;&#8203;</p>
</li>
<li>
<p>The month and day of the birthday added will be populated in the calendar as a red block. More details is shown in figure 4 below.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>list</code><br>
<code>birthday 1 b/21/10/95</code><br>
Adds the birthday "21 Oct 95" to the 1st contact in UniCity&#8217;s contact list.</p>
</li>
<li>
<p><code>bd 3 b/21/10/1995</code><br>
Adds the birthday "21 Oct 1995" to the 3rd contact in UniCity&#8217;s contact list.</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/birthday-command-ui.png" alt="birthday command ui" width="790">
</div>
</div>
<div class="paragraph">
<p>Figure 5: UI shown for birthday command</p>
</div>
<div class="paragraph">
<p><mark>End of Extract</mark></p>
</div>
<hr>
</div>
<div class="sect3">
<h4 id="justification-2"><a class="link" href="#justification-2">Justification</a></h4>
<div class="paragraph">
<p>The purpose of implementing birthday was so that users can record down their friends' birthday details so that they can celebrate other friend&#8217;s birthday.<br>
In university, birthday celebration has always been an occasion for everyone to meet up and wish the well being of the person.
Hence you would not want to miss out any of these days. This birthday command allows you to keep track of birthdays of your close friends.</p>
</div>
</div>
<div class="sect3">
<h4 id="implementation-2"><a class="link" href="#implementation-2">Implementation</a></h4>
<hr>
<div class="paragraph">
<p><mark>Start of Extract [from: Developer Guide]</mark></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="birthday-mechanism-since-v1-3"><a class="link" href="#birthday-mechanism-since-v1-3">Birthday mechanism (Since v1.3)</a></h3>
<div class="paragraph">
<p>The birthday mechanism is achieved by the <code>AddBirthdayCommand</code>. In order to add a birthday value to a contact, the default constructor of <code>AddBirthdayCommand</code>
takes in the index of the contact and the birthday value to be added to the contact.</p>
</div>
<div class="paragraph">
<p><code>AddBirthdayCommand</code> will use the arguments and parse to <code>AddressBookParser</code>. This instance is then sent to <code>AddBirthdayCommandParser</code> which parse the index and birthday entered.
Invalid indexes and command format will be handled by throwing an exception as shown below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">class</span> <span class="class">AddBirthdayCommandParser</span> <span class="directive">implements</span> <span class="predefined-type">Parser</span>&lt;BirthdayCommand&gt; {
    <span class="directive">public</span> BirthdayCommand parse(<span class="predefined-type">String</span> args) <span class="directive">throws</span> <span class="exception">ParseException</span> {
        <span class="keyword">try</span> {
            <span class="comment">// ... parse index and pass it to `BirthdayCommand`...</span>
        } <span class="keyword">catch</span> (IllegalValueException ive) {
            <span class="comment">// ... throw an exception ...</span>
        }
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The following sequence diagram shows how <code>AddBirthdayCommand</code> is processed:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/BirthdaySequenceDiagram.png" alt="BirthdaySequenceDiagram" width="800">
</div>
</div>
<div class="paragraph">
<p>Upon successfully adding of the birthday value to the contact with the given index shown in the list, it will change the value of the <code>Birthday</code> field of a <code>Person</code>.</p>
</div>
<div class="paragraph">
<p>At the same time, the <code>Birthday</code> class checks for the valid date entered by the user to ensure that it is in the format of DD/MM/YY or DD/MM/YYY.<br>
As <code>Birthday</code> is an optional field, the default constructor of <code>Birthday</code> takes no arguments and set the default birthday to the <code>Birthday</code> field for <code>Person</code>. The default value to be used will be "No Birthday Added`.
In some cases, <code>BirthdayCommand</code> needs to be initialized with a certain birthday for testing. Hence, another constructor is used to add a certain birthday to the <code>Birthday</code> field.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> Birthday () {
    <span class="local-variable">this</span>.birthdayNumber = DEFAULT_BIRTHDAY;
}

<span class="directive">public</span> Birthday(<span class="predefined-type">String</span> birthday) <span class="directive">throws</span> IllegalValueException {
    <span class="predefined-type">String</span> trimmedBirthday = birthday.trim();
    <span class="keyword">if</span> (!isValidBirthdayFormat(trimmedBirthday)) {
        <span class="keyword">throw</span> <span class="keyword">new</span>
            IllegalValueException(MESSAGE_BIRTHDAY_CONSTRAINTS);
    }
    <span class="local-variable">this</span>.birthdayNumber = trimmedBirthday;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>AddBirthdayCommand</code> inherits from the <code>UndoableCommand</code> so that users can undo the command of adding a birthday by accident.
The birthday value added will be displayed in the <code>ExtendedPersonListPanel</code> instead of <code>PersonCard</code> as it is additional information for each contact.</p>
</div>
<div class="sect3">
<h4 id="design-considerations-2"><a class="link" href="#design-considerations-2">Design Considerations</a></h4>
<div class="paragraph">
<p><strong>Aspect:</strong> Changing of the <code>Birthday</code> value of the selected <code>Person</code><br>
<strong>Alternative 1 (current choice):</strong> Copy values from all fields including the newly added birthday value to a newly created <code>Person</code>. Then replace this <code>Person</code> with the old <code>Person</code> in the <code>AddressBook</code> class.<br>
<strong>Pros:</strong> This is easy to implement and it ensures that the original value will be intact in case any other information is changed.<br>
<strong>Cons:</strong> Additional space is used to store the new <code>Person</code> instance.<br>
<strong>Alternative 2:</strong> Edit the <code>Birthday</code> field in the given list of contacts directly. <br>
<strong>Pros:</strong> No additional space is needed to store the <code>Person</code> instance and more straightforward.<br>
<strong>Cons:</strong> The data can no longer be retrieved if there is any error in the process of adding birthday to the contact.</p>
</div>
<div class="paragraph">
<p><strong>Aspect:</strong> Storing of the <code>Birthday</code> value of the selected <code>Person</code><br>
<strong>Alternative 1 (current choice):</strong> Add a new <code>Birthday</code> class.<br>
<strong>Pros:</strong> Same coding format stored as <code>Name</code>, <code>Phone</code> and other information so the coding principle is standardized. It can also perform validation checks for the birthday value easily.<br>
<strong>Cons:</strong> Add a new class affects many components of the code and much work needs to be done to make the changes.<br>
<strong>Alternative 2:</strong> Use a <code>String</code> value to keep track of birthday for each <code>Person</code>.<br>
<strong>Pros:</strong> This is easier and faster to implement.<br>
<strong>Cons:</strong> It is prone to bugs as the <code>String</code> value can be overwritten easily.</p>
</div>
<div class="paragraph">
<p><mark>End of Extract</mark></p>
</div>
<hr>
</div>
</div>
<div class="sect2">
<h3 id="other-contributions"><a class="link" href="#other-contributions">Other contributions</a></h3>
<div class="ulist">
<ul>
<li>
<p>Made tags in UniCity to show different colors. (Pull request <a href="https://github.com/CS2103AUG2017-W13-B1/main/pull/59" class="bare">https://github.com/CS2103AUG2017-W13-B1/main/pull/59</a> [#59])</p>
</li>
<li>
<p>Made error message to show a different color in UniCity. (Pull request <a href="https://github.com/CS2103AUG2017-W13-B1/main/pull/60" class="bare">https://github.com/CS2103AUG2017-W13-B1/main/pull/60</a> [#60])</p>
</li>
<li>
<p>Added birthday field to add and edit command to make changes there as well (Pull request <a href="https://github.com/CS2103AUG2017-W13-B1/main/pull/61" class="bare">https://github.com/CS2103AUG2017-W13-B1/main/pull/61</a> [61])</p>
</li>
<li>
<p>Made address, email and birthday optional fields in UniCity. (Pull request <a href="https://github.com/CS2103AUG2017-W13-B1/main/pull/77" class="bare">https://github.com/CS2103AUG2017-W13-B1/main/pull/77</a> [#77])</p>
</li>
<li>
<p>Enhanced UI in UniCity by adding another panel to show more information about a contact. (Pull request <a href="https://github.com/CS2103AUG2017-W13-B1/main/pull/100" class="bare">https://github.com/CS2103AUG2017-W13-B1/main/pull/100</a> [#100])</p>
</li>
<li>
<p>Added a calendar view panel to show all the calendars and the box will display red color if someone&#8217;s birthday lies on it. The user can details of the person with birthday on that day by clicking on the box. (Pull request <a href="https://github.com/CS2103AUG2017-W13-B1/main/pull/132" class="bare">https://github.com/CS2103AUG2017-W13-B1/main/pull/132</a> [#132])</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2017-11-13 13:59:00 +00:00
</div>
</div>
</body>
</html>